import{_ as J,r as _,h as j,i as F,a as R,o as i,c as l,b as s,j as D,v as k,F as u,k as v,l as X,f as d,d as g,e as f,g as z,t as r,n as C,m as w,p as G,q as Z}from"./index-bc3dd73a.js";import{_ as q}from"./Union-c033cb20.js";import{_ as b}from"./arrow-right16_R-c2b1940f.js";import{a as S,d as H}from"./api-ec30518d.js";import{c as K}from"./cities-ebc38fa7.js";const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASCAYAAACEnoQPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFjSURBVHgBjZJBTsJAFIb/N4QEdxyhs2l0V04gLAyNG8MJ0BMIJ1BvgDcoJzBulMQF3oDujBDTcgOWRoTnaxtxOm2Ff9POm/nmtf/7CYaiqN3E99ElMV8A7AHUlOdKniEDY+1OAvM87cD5mUeoPcirg2rFDNXT7lO4gzNQTbNO+0QrBnWSCyiKfIfWmO7pWPyC+mdLYY22DTL4nuvQjjsh3kAzY2zBDr4aA4oX3RmYPGMjEOjKbhW9+wER+kbpVVmgLAtdMikE+QJ5qnBoW2Eaq5VVaCZwnGtA29MyVhH3LThUYvtjrgQaLBf+jVlbfpxfM/MgD5OM6k1GVeNZccZZsv6SZu3KFJQ+mUhqaIiCUqBdCm5pmHCpYUlmZZZ3OEBJBvTx8yi93tyI5/4061apWDKgfxe5UXG90YPlvgnKf3bMAtknqgxkbFrafQnNWiEkZQYmftjgv5Is34oHHM27o6ozP8yMjhIu8ahjAAAAAElFTkSuQmCC",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADCSURBVHgBzVDLDYMwFPNDDMIG7QpMUjim3SBI5dGfOkERvcAmrMAIjNABEGnSiqoHiAInLD29KIkt28AqwbmMzLj89cYuFag0kxXJDksECJSZ3feo+Cm3swVYXHgQUT3VnHMwJUCw4PhIKiLoGNQS/JAFt04OBpz210gX0mgfgUJXwzXCPxTZXfq2xzSXpV6bb4QuxBwHXMhUE02ElyGzuLfOAoas22dzJqUmyZMCPzK8mA+3BhaMdkBQ8ceJOFdYPd7qOUGOH8N4OwAAAABJRU5ErkJggg==";const c=m=>(G("data-v-6e0988ac"),m=m(),Z(),m),ss={class:"container"},ts={class:"search-wrap row"},es=c(()=>s("div",{class:"search-title col-lg"},[d(" 探索"),s("span",{class:"title-underline"},"台灣之美"),s("br"),d(" 讓我們更親近這片土地 "),s("div",{class:"title-info"},[s("img",{src:W,alt:""}),d(" 台灣旅遊景點導覽 Taiwan Travel Guide ")])],-1)),cs={class:"search-select col-lg"},as=c(()=>s("option",{value:"",selected:"",disabled:"",hidden:""},"請選擇縣市",-1)),os=["value"],is=c(()=>s("option",{value:"",selected:"",disabled:"",hidden:""},"請選擇活動",-1)),ls=c(()=>s("option",{value:"PlacesIndex"},"精選活動",-1)),ns=c(()=>s("option",{value:"ActiveIndex"},"探索景點",-1)),rs=c(()=>s("option",{value:"FoodIndex"},"品嚐美食",-1)),ds=[is,ls,ns,rs],us=c(()=>s("span",{class:"search-img"},[s("img",{src:q,alt:""})],-1)),_s={class:"container"},vs={class:"carousel"},ps={id:"carouselExampleCaptions",class:"carousel slide","data-bs-ride":"carousel"},As={class:"carousel-indicators"},ms=["data-bs-slide-to","aria-current","aria-label"],hs={class:"carousel-inner carousel-fade align-items-center"},gs=["src","alt"],fs={class:"carousel-description d-none d-md-block position-absolute"},ws=z('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-6e0988ac><span class="carousel-control-prev-icon" aria-hidden="true" data-v-6e0988ac></span><span class="visually-hidden" data-v-6e0988ac>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-6e0988ac><span class="carousel-control-next-icon" aria-hidden="true" data-v-6e0988ac></span><span class="visually-hidden" data-v-6e0988ac>Next</span></button>',2),Ss={class:"active-wrap row"},bs={class:"active-title-wrap d-flex"},Ps=c(()=>s("div",{class:"active-title title-underline"},"近期活動",-1)),ys={class:"active-more"},Us=c(()=>s("img",{src:b,class:"arrow",alt:""},null,-1)),xs={class:"row row-cols-1 row-cols-md-2 gy-3"},Is=["onClick"],Ds={class:"active-card card shadow"},ks={class:"row g-0"},Cs={class:"overflow-hidden col-4"},Ns={class:"col-8"},Bs={class:"card-body"},Es={class:"card-date fz-18"},Ms={class:"card-title"},Qs={class:"card-text"},Ts={class:"place"},Ys={class:"text-muted"},Ls=c(()=>s("i",{class:"bi bi-geo-alt"},null,-1)),Os={class:"city"},Vs=c(()=>s("div",{class:"info pointer"},[d(" 詳細介紹"),s("img",{src:$,class:"arrow",alt:"詳細介紹"})],-1)),Js={class:"container"},js={class:"active-wrap row"},Fs={class:"active-title-wrap d-flex"},Rs=c(()=>s("div",{class:"active-title title-underline"},"熱門打卡景點",-1)),Xs={class:"active-more pointer"},zs=c(()=>s("img",{src:b,class:"arrow",alt:""},null,-1)),Gs={class:"row"},Zs=["onClick"],qs={class:"overflow-hidden places-card shadow"},Hs={class:"card-body"},Ks={class:"card-title"},Ws={class:"text-muted"},$s=c(()=>s("i",{class:"bi bi-geo-alt"},null,-1)),st={class:"city"},tt={class:"container"},et={class:"active-wrap row"},ct={class:"active-title-wrap d-flex"},at=c(()=>s("div",{class:"active-title title-underline"},"一再回訪美食",-1)),ot={class:"active-more"},it=c(()=>s("img",{src:b,class:"arrow",alt:""},null,-1)),lt={class:"row"},nt={class:"overflow-hidden places-card shadow"},rt={class:"card-body"},dt={class:"card-title"},ut={class:"text-muted"},_t=c(()=>s("i",{class:"bi bi-geo-alt"},null,-1)),vt={class:"city"},pt="v2/Tourism/Activity?%24top=30&%24format=JSON",N="v2/Tourism/ScenicSpot?%24o&%24top=30&%24format=JSON",B="v2/Tourism/Restaurant?%24&%24top=30&%24skip=13&%24format=JSON",At={__name:"Index",setup(m){const P=_([]),y=_([]),U=_([]),h=_([]),p=_(""),x=_(""),A=j(),E=new Date,I=n=>H(n).format("YYYY/MM/DD"),M=async()=>{const n=await S.fetchList(pt),{data:e,status:o}=n;if(o==200){const t=e.filter(a=>new Date(a.StartTime)>=E).sort((a,V)=>new Date(a.StartTime)-new Date(V.StartTime));P.value=t.slice(0,4)}},Q=async()=>{const n=await S.fetchList(N),{data:e,status:o}=n;o==200&&(console.log("data",e),y.value=e.slice(0,4),e[0].Picture!=null&&(h.value=[{url:e[0].Picture.PictureUrl1?e[0].Picture.PictureUrl1:"src/assets/img/nullPicture.png",description:e[0].ScenicSpotName?e[0].ScenicSpotName:""},{url:e[1].Picture.PictureUrl1?e[1].Picture.PictureUrl1:"src/assets/img/nullPicture.png",description:e[1].ScenicSpotName?e[1].ScenicSpotName:""},{url:e[2].Picture.PictureUrl1?e[2].Picture.PictureUrl1:"src/assets/img/nullPicture.png",description:e[2].ScenicSpotName?e[2].ScenicSpotName:""},{url:e[3].Picture.PictureUrl1?e[3].Picture.PictureUrl1:"src/assets/img/nullPicture.png",description:e[3].ScenicSpotName?e[3].ScenicSpotName:""}])),console.log("placeUrl",N)},T=async()=>{const n=await S.fetchList(B),{data:e,status:o}=n;o==200&&(U.value=e.slice(0,4)),console.log("foodUrl",B)},Y=n=>{const o=`/activeDetail/${n.ActivityID}`;A.push({path:o})},L=n=>{const o=`/placeDetail/${n.ScenicSpotID}`;A.push({path:o})},O=()=>{p.value==="PlacesIndex"?A.push("/placesIndex"):p.value==="ActiveIndex"?A.push("/activeIndex"):p.value==="FoodIndex"&&A.push("/foodIndex")};return F(()=>{M(),Q(),T()}),(n,e)=>{const o=R("router-link");return i(),l(u,null,[s("div",ss,[s("div",ts,[es,s("div",cs,[D(s("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>x.value=t)},[as,(i(!0),l(u,null,v(X(K),t=>(i(),l("option",{value:t.value,key:t.value},r(t.name),9,os))),128))],512),[[k,x.value]]),D(s("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t)},ds,512),[[k,p.value]]),s("div",{class:"form-btn"},[s("button",{class:"search-btn",onClick:O},[us,d(" 搜尋 ")])])])])]),s("div",_s,[s("div",vs,[s("div",ps,[s("div",As,[(i(!0),l(u,null,v(h.value,(t,a)=>(i(),l("button",{key:a,type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":a,class:C({active:a===0}),"aria-current":a===0?"true":"false","aria-label":`Slide ${a+1}`},null,10,ms))),128))]),s("div",hs,[(i(!0),l(u,null,v(h.value,(t,a)=>(i(),l("div",{key:a,class:C({"carousel-item":!0,active:a===0})},[s("img",{src:t.url,class:"d-block w-100",alt:`Slide ${a+1}`},null,8,gs),s("div",fs,[s("p",null,r(t.description),1)])],2))),128))]),ws])]),s("div",Ss,[s("div",bs,[Ps,s("div",ys,[g(o,{to:{name:"ActiveIndex"}},{default:f(()=>[d(" 查看更多活動"),Us]),_:1})])])]),s("div",xs,[(i(!0),l(u,null,v(P.value,t=>(i(),l("div",{class:"col-12 col-lg-6 mb-3 pointer",key:t,onClick:a=>Y(t)},[s("div",Ds,[s("div",ks,[s("div",Cs,[s("div",{class:"card-img active-img",style:w({"background-image":"url("+(t.Picture.PictureUrl1?t.Picture.PictureUrl1:"src/assets/img/nullPicture.png")+")"})},null,4)]),s("div",Ns,[s("div",Bs,[s("p",Es,r(I(t.StartTime))+" - "+r(I(t.EndTime)),1),s("div",Ms,r(t.ActivityName),1),s("p",Qs,[s("div",Ts,[s("div",Ys,[Ls,s("span",Os,r(t.Address?t.Address:"詳見官網"),1)]),Vs])])])])])])],8,Is))),128))])]),s("div",Js,[s("div",js,[s("div",Fs,[Rs,s("div",Xs,[g(o,{to:{name:"PlacesIndex"}},{default:f(()=>[d(" 查看更多景點"),zs]),_:1})])])]),s("div",Gs,[(i(!0),l(u,null,v(y.value,t=>(i(),l("div",{class:"card col-lg-3 col-md-6",key:t,onClick:a=>L(t)},[s("div",qs,[s("div",{class:"card-img",style:w({"background-image":"url("+(t.Picture.PictureUrl1?t.Picture.PictureUrl1:"src/assets/img/nullPicture.png")+")"})},null,4)]),s("div",Hs,[s("div",Ks,r(t.ScenicSpotName),1),s("div",Ws,[$s,s("span",st,r(t.Address),1)])])],8,Zs))),128))])]),s("div",tt,[s("div",et,[s("div",ct,[at,s("div",ot,[g(o,{to:{name:"FoodIndex"}},{default:f(()=>[d(" 查看更多美食"),it]),_:1})])])]),s("div",lt,[(i(!0),l(u,null,v(U.value,t=>(i(),l("div",{class:"card col-lg-3 col-md-6",key:t},[s("div",nt,[s("div",{class:"card-img",style:w({"background-image":"url("+(t.Picture.PictureUrl1?t.Picture.PictureUrl1:"src/assets/img/nullPicture.png")+")"})},null,4)]),s("div",rt,[s("div",dt,r(t.RestaurantName),1),s("div",ut,[_t,s("span",vt,r(t.Address),1)])])]))),128))])])],64)}}},St=J(At,[["__scopeId","data-v-6e0988ac"]]);export{St as default};
