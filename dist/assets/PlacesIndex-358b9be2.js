import{h as D,r as c,y as I,z as T,a as C,o as t,c as a,b as s,d as U,e as $,j as A,v as F,F as f,k as b,l as i,f as _,A as n,t as r,g as P}from"./index-bc3dd73a.js";import{_ as O}from"./Union-c033cb20.js";import{_ as z}from"./noData-e0e046d0.js";import{a as E}from"./api-ec30518d.js";import{c as w}from"./cities-ebc38fa7.js";const H={class:"purpose-index container p-5"},J={"aria-label":"breadcrumb",class:"py-2 mt-3"},M={class:"breadcrumb"},R={class:"breadcrumb-item"},q=s("li",{class:"breadcrumb-item"},"精選活動",-1),G={class:"row py-4 d-flex justify-content-center"},K={class:"col-lg-3 mb-3"},Q={class:"select-wrap"},W=s("option",{value:"all",selected:""},null,-1),X=["value"],Y=P('<div class="col-lg-3 mb-3"><select class="form-select"><option value="all" selected>全部主題</option><option></option></select></div><div class="col-lg-4 mb-3"><input type="text" class="form-control" placeholder="想找有趣的？請輸入關鍵字"></div>',2),Z=s("span",{class:"search-img"},[s("img",{src:O,alt:""})],-1),ss={key:0},es=s("div",{class:"index-title"},"熱門主題",-1),ts={class:"card-wrap row"},as={class:"card-img"},os=["src","alt"],ls={class:"active-title"},cs={key:1},is={class:"index-title"},ns={class:"search-all"},rs={class:"search-count"},ds={key:0,class:"row"},_s=P('<div class="no-data-wrap pt-5 col-lg-3 col-md-6"><div class="no-data-container"><div class="no-data-img"><div class="no-data-circle"><img src="'+z+'" alt=""></div></div><div class="no-data-info pt-2">很抱歉，找不到任何資料!</div></div></div>',1),us=[_s],ms={key:1,class:"row"},ps=["onClick"],vs={class:"overflow-hidden places-card shadow"},hs={class:"card-img search-card-img"},gs=["src","alt"],fs={class:"card-body"},bs={class:"card-title"},ys={class:"text-muted"},ks={class:"active-location"},Cs=s("i",{class:"bi bi-geo-alt"},null,-1),Us={class:"city"},ws={key:0,class:"active-class-icon"},Ps=s("i",{class:"bi bi-tag"},null,-1),xs=[Ps],js={key:1,class:"active-class"},Ns={key:2,class:"active-class"},Ss={class:"pagination mt-5"},As={__name:"PlacesIndex",setup(Vs){const x=D(),u=c(1),p=c([]);let y=c(),k=c(),d=c(0);const v=c(w[0]);let h=c(!1);I(v,o=>{k=o});const j=function(o){u.value=o},N=T(()=>{const o=(u.value-1)*12,l=o+12;return p.value.slice(o,l)}),S=async()=>{const o=`v2/Tourism/ScenicSpot/${k}?%24StartTime&%24format=JSON`,l=await E.fetchOne(o);console.log("res",l);const{data:m,status:g}=l;g==200&&(h.value=!0,d.value=m.length,p.value=m,console.log("citiesList",p.value))},V=o=>{y.value=o,console.log("id",o);const l=`/placeDetail/${y.value}`;x.push({path:l})},L=[{name:"自然風景類",imgUrl:"src/assets/img/place_1.jpeg",value:"自然風景類"},{name:"觀光工廠類",imgUrl:"src/assets/img/place_2.jpeg",value:"觀光工廠類"},{name:"遊憩類",imgUrl:"src/assets/img/place_3.jpeg",value:"遊憩類"},{name:"休閒農業類",imgUrl:"src/assets/img/place_4.jpeg",value:"休閒農業類"},{name:"生態類",imgUrl:"src/assets/img/place_5.jpeg",value:"生態類"},{name:"溫泉類",imgUrl:"src/assets/img/place_6.jpeg",value:"古蹟類"},{name:"古蹟類",imgUrl:"src/assets/img/place_7.jpeg",value:"古蹟類"}];return(o,l)=>{const m=C("router-Link"),g=C("vue-awesome-paginate");return t(),a("div",H,[s("nav",J,[s("ol",M,[s("li",R,[U(m,{to:{name:"Index"},class:"text-decoration-none"},{default:$(()=>[_("首頁")]),_:1})]),q])]),s("div",G,[s("div",K,[s("div",Q,[A(s("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e)},[W,(t(!0),a(f,null,b(i(w),e=>(t(),a("option",{value:e.value,key:e.value},r(e.name),9,X))),128))],512),[[F,v.value]])])]),Y,s("div",{class:"form-btn col-lg-2 mb-3"},[s("button",{class:"search-btn",onClick:S},[Z,_(" 搜尋 ")])])]),i(h)?n("",!0):(t(),a("div",ss,[es,s("div",ts,[(t(),a(f,null,b(L,e=>s("div",{class:"card g-3 col-lg-3 col-md-6",key:e.name},[s("div",as,[s("img",{src:e.imgUrl,alt:e.name},null,8,os)]),s("span",ls,r(e.name),1)])),64))])])),i(h)?(t(),a("div",cs,[s("div",is,[_(" 搜尋結果 "),s("span",ns,[_("共有 "),s("span",rs,r(i(d)),1),_(" 筆")])]),i(d)==0?(t(),a("div",ds,us)):n("",!0),i(d)>0?(t(),a("div",ms,[(t(!0),a(f,null,b(N.value,(e,B)=>(t(),a("div",{class:"card g-3 col-lg-3 col-md-6",key:B,onClick:Ls=>V(e.ScenicSpotID)},[s("div",vs,[s("div",hs,[s("img",{src:e.Picture.PictureUrl1?e.Picture.PictureUrl1:e.Picture.PictureUrl2?e.Picture.PictureUrl2:e.Picture.PictureUrl3?e.Picture.PictureUrl3:"src/assets/img/nullPicture.png",alt:e.ActivityName},null,8,gs)])]),s("div",fs,[s("div",bs,r(e.ScenicSpotName),1),s("div",ys,[s("div",ks,[Cs,s("span",Us,r(e.City),1)]),e.Class1||e.Class2?(t(),a("span",ws,xs)):n("",!0),e.Class1?(t(),a("span",js,"# "+r(e.Class1),1)):n("",!0),e.Class2?(t(),a("span",Ns,"# "+r(e.Class2),1)):n("",!0)])])],8,ps))),128)),s("div",Ss,[U(g,{"total-items":i(d),"items-per-page":12,"max-pages-shown":4,modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),"on-click":j},null,8,["total-items","modelValue"])])])):n("",!0)])):n("",!0)])}}};export{As as default};
