import{_ as D}from"./arrow-right16_R-c2b1940f.js";import{a as P,c as O}from"./cities-3b3f330e.js";import{_ as T,h as F,r as d,i as M,a as L,o as a,c as o,k as p,F as m,b as t,d as _,e as v,f as n,t as i,n as $,y as E,m as C,g as G,p as H,q as J}from"./index-b38aff00.js";const r=g=>(H("data-v-c89db325"),g=g(),J(),g),K={"aria-label":"breadcrumb",class:"py-2 mt-3"},Q={class:"breadcrumb"},X={class:"breadcrumb-item"},Y={class:"breadcrumb-item"},Z={class:"breadcrumb-item"},tt={class:"breadcrumb-item"},st={class:"breadcrumb-item"},et={class:"carousel"},ct={id:"carouselExampleCaptions",class:"carousel slide","data-bs-ride":"carousel"},it={class:"carousel-indicators"},at=["data-bs-slide-to","aria-current","aria-label"],ot={class:"carousel-inner carousel-fade"},lt=["src","alt"],nt=G('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-c89db325><span class="carousel-control-prev-icon" aria-hidden="true" data-v-c89db325></span><span class="visually-hidden" data-v-c89db325>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-c89db325><span class="carousel-control-next-icon" aria-hidden="true" data-v-c89db325></span><span class="visually-hidden" data-v-c89db325>Next</span></button>',2),rt={class:"active-wrap"},dt={class:"active-name"},ut={key:0,class:"active-class-wrap"},_t={key:0,class:"active-class"},vt={class:"active-description-wrap mt-4"},pt=r(()=>t("div",{class:"active-description-title"},"餐廳介紹：",-1)),mt={class:"active-description-content"},ht={class:"row mt-4"},bt={class:"col-lg-6"},yt={class:"bg-light border-radius p-4 mb-5"},gt={class:"active-description-title"},Pt={class:"active-description-title"},ft={class:"active-description-title"},wt={class:"active-description-title"},kt=["href"],xt={class:"col-lg-6 mb-5"},Ct=["src"],Dt={class:"active-wrap"},St={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},Nt=r(()=>t("div",{class:"active-title title-underline"},"鄰近的美食",-1)),Rt={class:"active-more pointer"},It=r(()=>t("img",{src:D,class:"arrow",alt:""},null,-1)),Ut=["onClick"],At={class:"overflow-hidden places-card shadow"},Lt={class:"card-body"},$t={class:"card-title"},Et={class:"text-muted"},Vt=r(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),zt={class:"city"},Bt={class:"active-wrap"},Wt={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},jt=r(()=>t("div",{class:"active-title title-underline"},"鄰近的活動",-1)),qt={class:"active-more pointer"},Ot=r(()=>t("img",{src:D,class:"arrow",alt:""},null,-1)),Tt=["onClick"],Ft={class:"overflow-hidden places-card shadow"},Mt={class:"card-body"},Gt={class:"card-title"},Ht={class:"text-muted"},Jt=r(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),Kt={class:"city"},Qt={class:"active-wrap"},Xt={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},Yt=r(()=>t("div",{class:"active-title title-underline"},"鄰近的景點",-1)),Zt={class:"active-more pointer"},ts=r(()=>t("img",{src:D,class:"arrow",alt:""},null,-1)),ss=["onClick"],es={class:"overflow-hidden places-card shadow"},cs={class:"card-body"},is={class:"card-title"},as={class:"text-muted"},os=r(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),ls={class:"city"},V="Restaurant",ns={__name:"RestaurantDetail",setup(g){const S=F(),z=S.currentRoute.value.params.Id,f=d([]),N=d([]),R=d("");let h=d(""),b=d("");const I=d([]),U=d([]),A=d([]),w=d(),B=async()=>{const s=await P.fetchOne(V,z);N.value=s;const y=O.find(u=>u.name===s[0].City);w.value=y?y.value:"",h.value=s[0].Position.PositionLat,b.value=s[0].Position.PositionLon,R.value=`https://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=${h.value},${b.value}
  &z=16&output=embed&t=`,f.value=[{url:s[0].Picture.PictureUrl1?s[0].Picture.PictureUrl1:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription1?s[0].Picture.PictureDescription1:""},{url:s[0].Picture.PictureUrl2?s[0].Picture.PictureUrl2:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription2?s[0].Picture.PictureDescription2:""},{url:s[0].Picture.PictureUrl3?s[0].Picture.PictureUrl3:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription3?s[0].Picture.PictureDescription3:""}]},W=async()=>{const s=await P.fetchNearbyList(V,h.value,b.value);A.value=s},j=async()=>{const s=await P.fetchNearbyList("Activity",h.value,b.value);I.value=s},q=async()=>{const s=await P.fetchNearbyList("ScenicSpot",h.value,b.value);U.value=s},k=(s,y)=>{const u=`/${s}Detail/${y}`;S.push(u)};return M(async()=>{await B(),await j(),await q(),await W()}),(s,y)=>{const u=L("router-Link"),x=L("router-link");return a(!0),o(m,null,p(N.value,c=>(a(),o("div",{class:"detail container p-5",key:c},[t("nav",K,[t("ol",Q,[t("li",X,[_(u,{to:{name:"Index"},class:"text-decoration-none"},{default:v(()=>[n("首頁")]),_:1})]),t("li",Y,[_(u,{to:{name:"RestaurantIndex"},class:"text-decoration-none"},{default:v(()=>[n("品嚐美食")]),_:1})]),t("li",Z,[_(u,{to:{name:"RestaurantIndex",params:{city:w.value}},class:"text-decoration-none"},{default:v(()=>[n(i(c.City),1)]),_:2},1032,["to"])]),t("li",tt,[_(u,{to:{name:"RestaurantIndex",params:{city:w.value,class:c.Class}},class:"text-decoration-none"},{default:v(()=>[n(i(c.Class?c.Class:""),1)]),_:2},1032,["to"])]),t("li",st,i(c.RestaurantName),1)])]),t("div",et,[t("div",ct,[t("div",it,[(a(!0),o(m,null,p(f.value,(e,l)=>(a(),o("button",{key:l,type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":l,class:$({active:l===0}),"aria-current":l===0?"true":"false","aria-label":`Slide ${l+1}`},null,10,at))),128))]),t("div",ot,[(a(!0),o(m,null,p(f.value,(e,l)=>(a(),o("div",{key:l,class:$({"carousel-item":!0,active:l===0})},[t("img",{src:e.url,class:"d-block w-100",alt:e.ActivityName},null,8,lt)],2))),128))]),nt])]),t("div",rt,[t("div",dt,i(c.RestaurantName),1),c.Class?(a(),o("div",ut,[c.Class?(a(),o("span",_t," # "+i(c.Class),1)):E("",!0)])):E("",!0),t("div",vt,[pt,t("span",mt,i(c.DescriptionDetail?c.DescriptionDetail:"無"),1)]),t("div",ht,[t("div",bt,[t("div",yt,[t("div",gt,[n(" 營業時間："),t("span",null,i(c.OpenTime),1)]),t("div",Pt,[n(" 聯絡電話："),t("span",null,i(c.Phone?c.Phone:"無"),1)]),t("div",ft,[n(" 餐廳地址："),t("span",null,i(c.Address?c.Address:"無"),1)]),t("div",wt,[n(" 官方網站："),t("a",{href:c.WebsiteUrl},[t("span",null,i(c.WebsiteUrl?c.WebsiteUrl:"無"),1)],8,kt)])])]),t("div",xt,[t("iframe",{class:"map border-radius",src:R.value},null,8,Ct)]),t("div",Dt,[t("div",St,[Nt,t("div",Rt,[_(x,{to:{name:"RestaurantIndex"}},{default:v(()=>[n(" 查看更多美食"),It]),_:1})])])]),(a(!0),o(m,null,p(A.value,e=>(a(),o("div",{class:"card col-lg-3 col-md-6",key:e,onClick:l=>k("restaurant",e.RestaurantID)},[t("div",At,[t("div",{class:"card-img",style:C({"background-image":"url("+(e.Picture.PictureUrl1?e.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",Lt,[t("div",$t,i(e.RestaurantName),1),t("div",Et,[Vt,t("span",zt,i(e.Address),1)])])],8,Ut))),128)),t("div",Bt,[t("div",Wt,[jt,t("div",qt,[_(x,{to:{name:"ActiveIndex"}},{default:v(()=>[n(" 查看更多活動"),Ot]),_:1})])])]),(a(!0),o(m,null,p(I.value,e=>(a(),o("div",{class:"card col-lg-3 col-md-6",key:e,onClick:l=>k("active",e.ActivityID)},[t("div",Ft,[t("div",{class:"card-img",style:C({"background-image":"url("+(e.Picture.PictureUrl1?e.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",Mt,[t("div",Gt,i(e.ActivityName),1),t("div",Ht,[Jt,t("span",Kt,i(e.Address),1)])])],8,Tt))),128)),t("div",Qt,[t("div",Xt,[Yt,t("div",Zt,[_(x,{to:{name:"ScenicSpotIndex"}},{default:v(()=>[n(" 查看更多景點"),ts]),_:1})])])]),(a(!0),o(m,null,p(U.value,e=>(a(),o("div",{class:"card col-lg-3 col-md-6",key:e,onClick:l=>k("scenicSpot",e.ScenicSpotID)},[t("div",es,[t("div",{class:"card-img",style:C({"background-image":"url("+(e.Picture.PictureUrl1?e.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",cs,[t("div",is,i(e.ScenicSpotName),1),t("div",as,[os,t("span",ls,i(e.Address),1)])])],8,ss))),128))])])]))),128)}}},_s=T(ns,[["__scopeId","data-v-c89db325"]]);export{_s as default};
