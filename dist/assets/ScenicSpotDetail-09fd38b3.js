import{_ as N}from"./arrow-right16_R-c2b1940f.js";import{a as P,c as O}from"./cities-3b3f330e.js";import{_ as F,h as M,r,i as G,a as E,o as c,c as o,k as p,F as h,b as t,d as v,e as m,f as l,t as i,l as H,n as T,y as x,m as D,g as J,p as K,q as Q}from"./index-b38aff00.js";const d=g=>(K("data-v-bbebedd7"),g=g(),Q(),g),X={"aria-label":"breadcrumb",class:"py-2 mt-3"},Y={class:"breadcrumb"},Z={class:"breadcrumb-item"},tt={class:"breadcrumb-item"},et={class:"breadcrumb-item"},st={class:"breadcrumb-item"},at={class:"breadcrumb-item"},it={class:"carousel"},ct={id:"carouselExampleCaptions",class:"carousel slide","data-bs-ride":"carousel"},ot={class:"carousel-indicators"},lt=["data-bs-slide-to","aria-current","aria-label"],nt={class:"carousel-inner carousel-fade"},rt=["src","alt"],dt=J('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-bbebedd7><span class="carousel-control-prev-icon" aria-hidden="true" data-v-bbebedd7></span><span class="visually-hidden" data-v-bbebedd7>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-bbebedd7><span class="carousel-control-next-icon" aria-hidden="true" data-v-bbebedd7></span><span class="visually-hidden" data-v-bbebedd7>Next</span></button>',2),ut={class:"active-wrap"},_t={class:"active-name"},vt={key:0,class:"active-class-wrap"},mt={key:0,class:"active-class"},pt={key:1,class:"active-class"},ht={class:"active-description-wrap mt-4"},bt=d(()=>t("div",{class:"active-description-title"},"景點介紹：",-1)),yt={class:"active-description-content"},gt={class:"row mt-4"},Pt={class:"col-lg-6"},ft={class:"bg-light border-radius p-4 mb-5"},wt={class:"active-description-title"},kt={class:"active-description-title"},Ct={class:"active-description-title"},xt={class:"active-description-title"},Dt=["href"],Nt={class:"active-description-title"},It={class:"active-description-title"},Ut={class:"col-lg-6 mb-5"},At=["src"],Lt={class:"active-wrap"},Rt={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},St=d(()=>t("div",{class:"active-title title-underline"},"鄰近的景點",-1)),$t={class:"active-more pointer"},Et=d(()=>t("img",{src:N,class:"arrow",alt:""},null,-1)),Tt=["onClick"],Vt={class:"overflow-hidden places-card shadow"},zt={class:"card-body"},Bt={class:"card-title"},Wt={class:"text-muted"},jt=d(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),qt={class:"city"},Ot={class:"active-wrap"},Ft={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},Mt=d(()=>t("div",{class:"active-title title-underline"},"鄰近的活動",-1)),Gt={class:"active-more pointer"},Ht=d(()=>t("img",{src:N,class:"arrow",alt:""},null,-1)),Jt=["onClick"],Kt={class:"overflow-hidden places-card shadow"},Qt={class:"card-body"},Xt={class:"card-title"},Yt={class:"text-muted"},Zt=d(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),te={class:"city"},ee={class:"active-wrap"},se={class:"active-title-wrap d-flex justify-content-between align-items-center mb-4"},ae=d(()=>t("div",{class:"active-title title-underline"},"鄰近的美食",-1)),ie={class:"active-more pointer"},ce=d(()=>t("img",{src:N,class:"arrow",alt:""},null,-1)),oe=["onClick"],le={class:"overflow-hidden places-card shadow"},ne={class:"card-body"},re={class:"card-title"},de={class:"text-muted"},ue=d(()=>t("i",{class:"bi bi-geo-alt"},null,-1)),_e={class:"city"},V="ScenicSpot",ve={__name:"ScenicSpotDetail",setup(g){const I=M(),z=I.currentRoute.value.params.Id,f=r([]),U=r([]),A=r(""),L=r([]),R=r([]),S=r([]),w=r();let $=r(),b=r(""),y=r("");const B=async()=>{const s=await P.fetchOne(V,z);U.value=s;const _=O.find(u=>u.name===s[0].Address.substring(0,3));$.value=_?_.name:"",w.value=_?_.value:"",b.value=s[0].Position.PositionLat,y.value=s[0].Position.PositionLon,A.value=`https://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=${b.value},${y.value}&z=16&output=embed&t=`,f.value=[{url:s[0].Picture.PictureUrl1?s[0].Picture.PictureUrl1:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription1?s[0].Picture.PictureDescription1:""},{url:s[0].Picture.PictureUrl2?s[0].Picture.PictureUrl2:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription2?s[0].Picture.PictureDescription2:""},{url:s[0].Picture.PictureUrl3?s[0].Picture.PictureUrl3:"/src/assets/img/nullPicture.png",description:s[0].Picture.PictureDescription3?s[0].Picture.PictureDescription3:""}]},W=async()=>{const s=await P.fetchNearbyList(V,b.value,y.value);R.value=s},j=async()=>{const s=await P.fetchNearbyList("Activity",b.value,y.value);L.value=s},q=async()=>{const s=await P.fetchNearbyList("Restaurant",b.value,y.value);S.value=s},k=(s,_)=>{const u=`/${s}Detail/${_}`;I.push(u)};return G(async()=>{await B(),await W(),await j(),await q()}),(s,_)=>{const u=E("router-Link"),C=E("router-link");return c(!0),o(h,null,p(U.value,e=>(c(),o("div",{class:"detail container p-5",key:e},[t("nav",X,[t("ol",Y,[t("li",Z,[v(u,{to:{name:"Index"},class:"text-decoration-none"},{default:m(()=>[l("首頁")]),_:1})]),t("li",tt,[v(u,{to:{name:"ScenicSpotIndex"},class:"text-decoration-none"},{default:m(()=>[l("探索景點")]),_:1})]),t("li",et,[v(u,{to:{name:"ScenicSpotIndex",params:{city:w.value}},class:"text-decoration-none"},{default:m(()=>[l(i(H($)),1)]),_:1},8,["to"])]),t("li",st,[v(u,{to:{name:"ScenicSpotIndex",params:{city:w.value,class:e.Class1||e.Class2||""}},class:"text-decoration-none"},{default:m(()=>[l(i(e.Class1?e.Class1:e.Class2?e.Class2:""),1)]),_:2},1032,["to"])]),t("li",at,i(e.ScenicSpotName),1)])]),t("div",it,[t("div",ct,[t("div",ot,[(c(!0),o(h,null,p(f.value,(a,n)=>(c(),o("button",{key:n,type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":n,class:T({active:n===0}),"aria-current":n===0?"true":"false","aria-label":`Slide ${n+1}`},null,10,lt))),128))]),t("div",nt,[(c(!0),o(h,null,p(f.value,(a,n)=>(c(),o("div",{key:n,class:T({"carousel-item":!0,active:n===0})},[t("img",{src:a.url,class:"d-block w-100",alt:a.ActivityName},null,8,rt)],2))),128))]),dt])]),t("div",ut,[t("div",_t,i(e.ScenicSpotName),1),e.Class1||e.Class2?(c(),o("div",vt,[e.Class1?(c(),o("span",mt," # "+i(e.Class1),1)):x("",!0),e.Class2?(c(),o("span",pt," # "+i(e.Class2),1)):x("",!0)])):x("",!0),t("div",ht,[bt,t("span",yt,i(e.DescriptionDetail?e.DescriptionDetail:"無"),1)]),t("div",gt,[t("div",Pt,[t("div",ft,[t("div",wt,[l(" 開放時間："),t("span",null,i(e.OpenTime),1)]),t("div",kt,[l(" 服務電話："),t("span",null,i(e.Phone?e.Phone:"無"),1)]),t("div",Ct,[l(" 景點地址："),t("span",null,i(e.Address?e.Address:"無"),1)]),t("div",xt,[l(" 官方網站："),t("a",{href:e.WebsiteUrl},[t("span",null,i(e.WebsiteUrl?e.WebsiteUrl:"無"),1)],8,Dt)]),t("div",Nt,[l(" 票價資訊："),t("span",null,i(e.TicketInfo?e.TicketInfo:"無"),1)]),t("div",It,[l(" 注意事項："),t("span",null,i(e.Remarks?e.Remarks:"無"),1)])])]),t("div",Ut,[t("iframe",{class:"map border-radius",src:A.value},null,8,At)]),t("div",Lt,[t("div",Rt,[St,t("div",$t,[v(C,{to:{name:"ScenicSpotIndex"}},{default:m(()=>[l(" 查看更多景點"),Et]),_:1})])])]),(c(!0),o(h,null,p(R.value,a=>(c(),o("div",{class:"card col-lg-3 col-md-6",key:a,onClick:n=>k("scenicSpot",a.ScenicSpotID)},[t("div",Vt,[t("div",{class:"card-img",style:D({"background-image":"url("+(a.Picture.PictureUrl1?a.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",zt,[t("div",Bt,i(a.ScenicSpotName),1),t("div",Wt,[jt,t("span",qt,i(a.Address),1)])])],8,Tt))),128)),t("div",Ot,[t("div",Ft,[Mt,t("div",Gt,[v(C,{to:{name:"ActiveIndex"}},{default:m(()=>[l(" 查看更多活動"),Ht]),_:1})])])]),(c(!0),o(h,null,p(L.value,a=>(c(),o("div",{class:"card col-lg-3 col-md-6",key:a,onClick:n=>k("active",a.ActivityID)},[t("div",Kt,[t("div",{class:"card-img",style:D({"background-image":"url("+(a.Picture.PictureUrl1?a.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",Qt,[t("div",Xt,i(a.ActivityName),1),t("div",Yt,[Zt,t("span",te,i(a.Address),1)])])],8,Jt))),128)),t("div",ee,[t("div",se,[ae,t("div",ie,[v(C,{to:{name:"RestaurantIndex"}},{default:m(()=>[l(" 查看更多美食"),ce]),_:1})])])]),(c(!0),o(h,null,p(S.value,a=>(c(),o("div",{class:"card col-lg-3 col-md-6",key:a,onClick:n=>k("restaurant",a.RestaurantID)},[t("div",le,[t("div",{class:"card-img",style:D({"background-image":"url("+(a.Picture.PictureUrl1?a.Picture.PictureUrl1:"/src/assets/img/nullPicture.png")+")"})},null,4)]),t("div",ne,[t("div",re,i(a.RestaurantName),1),t("div",de,[ue,t("span",_e,i(a.Address),1)])])],8,oe))),128))])])]))),128)}}},be=F(ve,[["__scopeId","data-v-bbebedd7"]]);export{be as default};
