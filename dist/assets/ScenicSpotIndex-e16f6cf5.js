import{h as z,u as G,r as u,s as J,x as K,i as O,a as N,o as a,c as t,b as e,d as A,e as Q,j as D,v as P,F as x,k as w,l as m,f,y as _,t as n,g as W}from"./index-b38aff00.js";import{_ as X}from"./Union-c033cb20.js";import{_ as Y}from"./noData-e0e046d0.js";import{a as S,c as B}from"./cities-3b3f330e.js";const F=[{name:"自然風景類",imgUrl:"https://i.pinimg.com/564x/fa/e7/a9/fae7a92041be5ab48ce3778aa9f5bbf7.jpg",value:"自然風景類"},{name:"觀光工廠類",imgUrl:"https://i.pinimg.com/564x/41/90/fb/4190fb6e9f392889ee36cbf2a0bc0139.jpg",value:"觀光工廠類"},{name:"遊憩類",imgUrl:"https://i.pinimg.com/564x/f3/33/70/f3337008f7f02ff16076de738e1e349f.jpg",value:"遊憩類"},{name:"休閒農業類",imgUrl:"https://i.pinimg.com/564x/14/fe/a3/14fea397ebcd899d327afcd5f115edde.jpg",value:"休閒農業類"},{name:"生態類",imgUrl:"https://i.pinimg.com/564x/ea/32/b4/ea32b455857d93161b391e813827ad1a.jpg",value:"生態類"},{name:"溫泉類",imgUrl:"https://i.pinimg.com/564x/90/c4/b6/90c4b61ea1a1cf934f04e9bb24ce6e6b.jpg",value:"古蹟類"},{name:"古蹟類",imgUrl:"https://i.pinimg.com/564x/75/57/57/755757710f0a5ff5db88929e4dddea8c.jpg",value:"古蹟類"}],Z={class:"purpose-index container p-5"},ee={"aria-label":"breadcrumb",class:"py-2 mt-3"},se={class:"breadcrumb"},ae={class:"breadcrumb-item"},te={class:"row py-4 d-flex"},ce={class:"col-lg-3 mb-3"},le={class:"select-wrap"},ie=e("option",{value:"",selected:"",disabled:"",hidden:""},"請選擇縣市",-1),oe=["value"],ne={class:"col-lg-3 mb-3"},de=e("option",{value:"",selected:"",disabled:"",hidden:""},"請選擇主題",-1),re=["value"],ue=e("span",{class:"search-img"},[e("img",{src:X,alt:""})],-1),me={key:0},ve=e("div",{class:"index-title"},"熱門主題",-1),_e={class:"card-wrap row"},pe={class:"card-img"},he=["src","alt","onClick"],fe={class:"active-title"},ge={key:1},be={class:"index-title"},ye={class:"search-all"},Ce={class:"search-count"},ke={key:0,class:"row"},xe=W('<div class="no-data-wrap pt-5 col-lg-3 col-md-6"><div class="no-data-container"><div class="no-data-img"><div class="no-data-circle"><img src="'+Y+'" alt=""></div></div><div class="no-data-info pt-2">很抱歉，找不到任何資料!</div></div></div>',1),we=[xe],Se={key:1,class:"row"},Ue=["onClick"],Ve={class:"overflow-hidden places-card shadow"},je={class:"card-img search-card-img"},Le=["src","alt"],$e={class:"card-body"},Ie={class:"card-title"},Ne={class:"text-muted"},Ae={class:"active-location"},De=e("i",{class:"bi bi-geo-alt"},null,-1),Pe={class:"city"},Be={key:0,class:"active-class-icon"},Fe=e("i",{class:"bi bi-tag"},null,-1),Me=[Fe],Re={key:1,class:"active-class"},Ee={key:2,class:"active-class"},He={class:"pagination mt-5"},U="ScenicSpot",Oe={__name:"ScenicSpotIndex",setup(Te){const g=z(),d=G(),b=u(1),y=u([]),j=u(),C=u(),o=u(d.params.city||""),i=u(d.params.active||"");let L=u(),p=u(0),h=u(!1),v=[];const r={city:o.value,class:i.value},M=function(c){b.value=c},R=J(()=>{const c=(b.value-1)*12,l=c+12;return y.value.slice(c,l)}),E=c=>{L.value=c;const l=`/scenicSpotDetail/${L.value}`;g.push({path:l})},$=async()=>{const c=o.value!=="",l=i.value!=="";c&&l?(C.value=i.value,v=await S.fetchCityClassList(U,`${o.value}`,`${i.value}`)):c?v=await S.fetchCityClassList(U,`${o.value}`,""):l&&(C.value=i.value,v=await S.fetchCityClassList(U,"",`${i.value}`)),v.length>0&&(h.value=!0),p.value=v.length,y.value=v;const k=B.find(V=>V.value===o.value);j.value=k?k.name:"",r.city=o.value,r.class=i.value,g.replace({name:"ScenicSpotIndex",params:r})},H=()=>{o.value="",i.value="",h.value=!1,r.city="",r.class="",g.replace({name:"ScenicSpotIndex",params:r})},T=()=>{o.value="",i.value=""},q=async c=>{v=await S.fetchCityClassList(U,"",`${c}`),h.value=!0,C.value=c,y.value=v,p.value=y.value.length,r.city="",r.class=c,g.replace({name:"ScenicSpotIndex",params:r})};return K(d,()=>{d.params.city!==void 0&&(o.value=d.params.city),d.params.active!==void 0&&(i.value=d.params.active)}),O(()=>{d.params.city,d.params.class,$()}),(c,l)=>{const k=N("router-Link"),V=N("vue-awesome-paginate");return a(),t("div",Z,[e("nav",ee,[e("ol",se,[e("li",ae,[A(k,{to:{name:"Index"},class:"text-decoration-none"},{default:Q(()=>[f("首頁")]),_:1})]),e("li",{class:"breadcrumb-item"},[e("a",{onClick:H,class:"breadcrumb-item"},"探索景點")])])]),e("div",te,[e("div",ce,[e("div",le,[D(e("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=s=>o.value=s)},[ie,(a(!0),t(x,null,w(m(B),s=>(a(),t("option",{value:s.value,key:s.value},n(s.name),9,oe))),128))],512),[[P,o.value]])])]),e("div",ne,[D(e("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=s=>i.value=s)},[de,(a(!0),t(x,null,w(m(F),s=>(a(),t("option",{value:s.name,key:s.name},n(s.name),9,re))),128))],512),[[P,i.value]])]),e("div",{class:"form-btn col-lg-3 mb-3"},[e("button",{class:"search-btn",onClick:$},[ue,f(" 搜尋 ")]),e("button",{class:"search-btn clear-btn",onClick:T},"清除")])]),m(h)?_("",!0):(a(),t("div",me,[ve,e("div",_e,[(a(!0),t(x,null,w(m(F),s=>(a(),t("div",{class:"card g-3 col-lg-3 col-md-6",key:s.name},[e("div",pe,[e("img",{src:s.imgUrl,alt:s.name,onClick:I=>q(s.name)},null,8,he)]),e("span",fe,n(s.name),1)]))),128))])])),m(h)?(a(),t("div",ge,[e("div",be,[f(n(j.value)+" "+n(C.value)+" 搜尋結果 ",1),e("span",ye,[f("共有 "),e("span",Ce,n(m(p)),1),f(" 筆")])]),m(p)===0?(a(),t("div",ke,we)):_("",!0),m(p)>0?(a(),t("div",Se,[(a(!0),t(x,null,w(R.value,(s,I)=>(a(),t("div",{class:"card g-3 col-lg-3 col-md-6",key:I,onClick:qe=>E(s.ScenicSpotID)},[e("div",Ve,[e("div",je,[e("img",{src:s.Picture.PictureUrl1,alt:s.ActivityName},null,8,Le)])]),e("div",$e,[e("div",Ie,n(s.ScenicSpotName),1),e("div",Ne,[e("div",Ae,[De,e("span",Pe,n(s.Address),1)]),s.Class1||s.Class2?(a(),t("span",Be,Me)):_("",!0),s.Class1?(a(),t("span",Re,"# "+n(s.Class1),1)):_("",!0),s.Class2?(a(),t("span",Ee,"# "+n(s.Class2),1)):_("",!0)])])],8,Ue))),128)),e("div",He,[A(V,{"total-items":m(p),"items-per-page":12,"max-pages-shown":4,modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=s=>b.value=s),"on-click":M},null,8,["total-items","modelValue"])])])):_("",!0)])):_("",!0)])}}};export{Oe as default};
